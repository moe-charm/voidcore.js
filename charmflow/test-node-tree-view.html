<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NodeTreeViewComponent ãƒ†ã‚¹ãƒˆ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
            color: #333;
        }
        .test-container {
            background: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            border: 1px solid #e0e0e0;
        }
        .test-button {
            background: #007acc;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
            transition: all 0.2s;
        }
        .test-button:hover {
            background: #005a9e;
            transform: translateY(-1px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .test-button:active {
            transform: translateY(0);
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }
        .test-button.secondary {
            background: #6c757d;
        }
        .test-button.secondary:hover {
            background: #5a6268;
        }
        .test-button.success {
            background: #28a745;
        }
        .test-button.success:hover {
            background: #218838;
        }
        .test-button.warning {
            background: #ffc107;
            color: #212529;
        }
        .test-button.warning:hover {
            background: #e0a800;
        }
        .test-button.danger {
            background: #dc3545;
        }
        .test-button.danger:hover {
            background: #c82333;
        }
        .info-text {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 15px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 13px;
            margin: 10px 0;
            white-space: pre-wrap;
        }
        h1, h2 {
            color: #212529;
        }
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin: 10px 0;
        }
        .feature-list {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
        }
        .feature-list li {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <h1>ğŸŒ³ NodeTreeViewComponent ãƒ†ã‚¹ãƒˆ</h1>
    
    <div class="test-container" style="background: #fff3cd; border: 2px solid #ffc107;">
        <h2>ğŸ“ ãƒ†ã‚¹ãƒˆæ‰‹é †ï¼ˆã“ã‚Œã‚’è¦‹ã¦ã«ã‚ƒï¼ï¼‰</h2>
        <ol style="font-size: 16px; line-height: 1.8;">
            <li><strong>Step 1:</strong> ã€ŒNodeTreeViewä½œæˆãƒ»è¡¨ç¤ºã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
            <li><strong>Step 2:</strong> å·¦å´ã«ãƒ„ãƒªãƒ¼ãƒ“ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ â†’ <em>ãƒ‡ãƒ¢ãƒãƒ¼ãƒ‰ãŒéšå±¤è¡¨ç¤º</em></li>
            <li><strong>Step 3:</strong> â–¶/â–¼ ã‚¢ã‚¤ã‚³ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿</li>
            <li><strong>Step 4:</strong> ãƒãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯ã§é¸æŠï¼ˆCtrl+ã‚¯ãƒªãƒƒã‚¯ã§è¤‡æ•°é¸æŠï¼‰</li>
            <li><strong>Step 5:</strong> ã€Œãƒãƒ¼ãƒ‰è¿½åŠ ã€ãƒœã‚¿ãƒ³ã§ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ã«è¿½åŠ </li>
            <li><strong>Step 6:</strong> æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°</li>
            <li><strong>Step 7:</strong> ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§éšå±¤å¤‰æ›´ï¼ˆè©¦ã—ã¦ã¿ã¦ï¼ï¼‰</li>
        </ol>
        <p style="margin-top: 15px;">ğŸ’¡ <strong>ãƒ’ãƒ³ãƒˆ:</strong> ã€Œå…¨ã¦å±•é–‹ã€ã€Œå…¨ã¦æŠ˜ã‚ŠãŸãŸã‚€ã€ãƒœã‚¿ãƒ³ã§ä¸€æ‹¬æ“ä½œï¼</p>
    </div>
    
    <div class="test-container">
        <h2>ğŸ¯ æ©Ÿèƒ½æ¦‚è¦</h2>
        <div class="feature-list">
            <ul>
                <li>ğŸŒ³ <strong>éšå±¤è¡¨ç¤º</strong> - ãƒãƒ¼ãƒ‰ã®è¦ªå­é–¢ä¿‚ã‚’è¦–è¦šçš„ã«è¡¨ç¾</li>
                <li>ğŸ” <strong>æ¤œç´¢ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼</strong> - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œç´¢ã§ç´ æ—©ãè¦‹ã¤ã‘ã‚‹</li>
                <li>ğŸ“‚ <strong>å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿</strong> - å¤§è¦æ¨¡ãªéšå±¤ã‚‚è¦‹ã‚„ã™ãç®¡ç†</li>
                <li>ğŸ–±ï¸ <strong>ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—</strong> - ç›´æ„Ÿçš„ãªéšå±¤å¤‰æ›´</li>
                <li>âœ… <strong>è¤‡æ•°é¸æŠ</strong> - Ctrl+ã‚¯ãƒªãƒƒã‚¯ã§åŠ¹ç‡çš„ãªæ“ä½œ</li>
                <li>ğŸ’¾ <strong>ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</strong> - ãƒ„ãƒªãƒ¼æ§‹é€ ã®ä¿å­˜ãƒ»å¾©å…ƒ</li>
                <li>ğŸ¨ <strong>ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—åˆ¥ã‚¢ã‚¤ã‚³ãƒ³</strong> - è¦–è¦šçš„ãªè­˜åˆ¥æ€§å‘ä¸Š</li>
            </ul>
        </div>
    </div>
    
    <div class="test-container">
        <h2>ğŸ”§ åŸºæœ¬åˆ¶å¾¡</h2>
        <button class="test-button" id="create-tree">NodeTreeViewä½œæˆãƒ»è¡¨ç¤º</button>
        <button class="test-button" id="hide-tree">éè¡¨ç¤º</button>
        <button class="test-button" id="show-tree">è¡¨ç¤º</button>
        <button class="test-button secondary" id="destroy-tree">ç ´æ£„</button>
    </div>
    
    <div class="test-container">
        <h2>ğŸŒ² ãƒãƒ¼ãƒ‰æ“ä½œ</h2>
        <div class="test-grid">
            <button class="test-button success" id="add-node">ãƒãƒ¼ãƒ‰è¿½åŠ </button>
            <button class="test-button success" id="add-child-node">å­ãƒãƒ¼ãƒ‰è¿½åŠ </button>
            <button class="test-button danger" id="remove-node">é¸æŠãƒãƒ¼ãƒ‰å‰Šé™¤</button>
            <button class="test-button warning" id="update-node">ãƒãƒ¼ãƒ‰æ›´æ–°</button>
        </div>
    </div>
    
    <div class="test-container">
        <h2>ğŸ”— æ¥ç¶šã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h2>
        <button class="test-button" id="add-connection">æ¥ç¶šè¿½åŠ </button>
        <button class="test-button" id="remove-connection">æ¥ç¶šå‰Šé™¤</button>
        <button class="test-button" id="simulate-complex">è¤‡é›‘ãªæ§‹é€ ç”Ÿæˆ</button>
    </div>
    
    <div class="test-container">
        <h2>ğŸ¯ ãƒ„ãƒªãƒ¼æ“ä½œ</h2>
        <div class="test-grid">
            <button class="test-button" id="expand-all">å…¨ã¦å±•é–‹</button>
            <button class="test-button" id="collapse-all">å…¨ã¦æŠ˜ã‚ŠãŸãŸã‚€</button>
            <button class="test-button" id="select-all">å…¨é¸æŠ</button>
            <button class="test-button" id="clear-selection">é¸æŠè§£é™¤</button>
        </div>
    </div>
    
    <div class="test-container">
        <h2>ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ç®¡ç†</h2>
        <button class="test-button" id="export-tree">ãƒ„ãƒªãƒ¼ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
        <button class="test-button" id="import-tree">ãƒ„ãƒªãƒ¼ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</button>
        <button class="test-button" id="refresh-tree">ãƒ„ãƒªãƒ¼æ›´æ–°</button>
    </div>
    
    <div class="test-container">
        <h2>ğŸ“Š ç¾åœ¨ã®çŠ¶æ…‹</h2>
        <div id="current-status" class="info-text">
            NodeTreeViewæœªä½œæˆ
        </div>
    </div>

    <script type="module">
        import { NodeTreeViewComponent } from './js/ui-components/NodeTreeViewComponent.js'
        import { INTENT_TYPES } from './js/intent-definitions.js'
        
        // ==========================================
        // ãƒ†ã‚¹ãƒˆç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
        // ==========================================
        
        let nodeTreeView = null
        let nodeCounter = 100
        const statusElement = document.getElementById('current-status')
        
        function updateStatus() {
            if (!nodeTreeView) {
                statusElement.textContent = 'NodeTreeViewæœªä½œæˆ'
            } else {
                statusElement.innerHTML = `NodeTreeViewçŠ¶æ…‹:
- ID: ${nodeTreeView.id}
- è¡¨ç¤º: ${nodeTreeView.state.isVisible ? 'âœ…' : 'âŒ'}
- ãƒã‚¦ãƒ³ãƒˆ: ${nodeTreeView.state.isMounted ? 'âœ…' : 'âŒ'}
- ãƒãƒ¼ãƒ‰æ•°: ${nodeTreeView.nodes.size}
- å±•é–‹ãƒãƒ¼ãƒ‰: ${nodeTreeView.expandedNodes.size}
- é¸æŠãƒãƒ¼ãƒ‰: ${nodeTreeView.selectedNodes.size}
- ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼: "${nodeTreeView.searchQuery || 'ãªã—'}"
- ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—: ${nodeTreeView.treeConfig.enableDragDrop ? 'âœ…' : 'âŒ'}`
            }
        }
        
        // ãƒ¢ãƒƒã‚¯IntentHandler
        const mockIntentHandler = {
            sendIntent: function(type, data) {
                console.log('ğŸ“¤ Intenté€ä¿¡:', type, data)
            },
            
            addIntentListener: function(type, handler) {
                console.log(`ğŸ‘‚ Intent listenerè¿½åŠ : ${type}`)
                return `listener-${type}-${Date.now()}`
            },
            
            removeIntentListener: function(listenerId) {
                console.log(`ğŸ—‘ï¸ Intent listenerå‰Šé™¤: ${listenerId}`)
            }
        }
        
        // ãƒ¢ãƒƒã‚¯PluginNode
        const mockPluginNode = {
            id: 'node-tree-test-node',
            intentHandler: mockIntentHandler
        }
        
        // ==========================================
        // åŸºæœ¬åˆ¶å¾¡
        // ==========================================
        
        document.getElementById('create-tree').onclick = () => {
            try {
                nodeTreeView = new NodeTreeViewComponent(mockPluginNode, {
                    position: { x: 50, y: 50 },
                    size: { width: 350, height: 600 },
                    showConnections: true,
                    showNodeTypes: true,
                    enableDragDrop: true,
                    enableMultiSelect: true,
                    enableSearch: true,
                    autoExpand: false
                })
                
                // ãƒã‚¦ãƒ³ãƒˆãƒ»è¡¨ç¤º
                nodeTreeView.mount()
                nodeTreeView.show()
                
                console.log('âœ… NodeTreeViewä½œæˆãƒ»è¡¨ç¤ºæˆåŠŸ')
                updateStatus()
            } catch (error) {
                console.error('âŒ NodeTreeViewä½œæˆå¤±æ•—:', error)
            }
        }
        
        document.getElementById('show-tree').onclick = () => {
            if (!nodeTreeView) {
                alert('å…ˆã«NodeTreeViewã‚’ä½œæˆã—ã¦ãã ã•ã„')
                return
            }
            
            nodeTreeView.show()
            console.log('âœ… è¡¨ç¤º')
            updateStatus()
        }
        
        document.getElementById('hide-tree').onclick = () => {
            if (!nodeTreeView) {
                alert('å…ˆã«NodeTreeViewã‚’ä½œæˆã—ã¦ãã ã•ã„')
                return
            }
            
            nodeTreeView.hide()
            console.log('âœ… éè¡¨ç¤º')
            updateStatus()
        }
        
        document.getElementById('destroy-tree').onclick = () => {
            if (!nodeTreeView) {
                alert('å…ˆã«NodeTreeViewã‚’ä½œæˆã—ã¦ãã ã•ã„')
                return
            }
            
            nodeTreeView.destroy()
            nodeTreeView = null
            console.log('âœ… ç ´æ£„å®Œäº†')
            updateStatus()
        }
        
        // ==========================================
        // ãƒãƒ¼ãƒ‰æ“ä½œ
        // ==========================================
        
        document.getElementById('add-node').onclick = () => {
            if (!nodeTreeView) {
                alert('å…ˆã«NodeTreeViewã‚’ä½œæˆã—ã¦ãã ã•ã„')
                return
            }
            
            const nodeId = `node-${++nodeCounter}`
            const nodeTypes = ['button.send', 'input.text', 'output.console', 'logic.condition', 'data.variable']
            const nodeType = nodeTypes[Math.floor(Math.random() * nodeTypes.length)]
            
            nodeTreeView.addNode({
                id: nodeId,
                type: nodeType,
                name: `New ${nodeType.split('.')[1]} Node`,
                position: { x: 100 + nodeCounter * 10, y: 100 + nodeCounter * 10 },
                parent: null
            })
            
            console.log(`âœ… ãƒãƒ¼ãƒ‰è¿½åŠ : ${nodeId}`)
            updateStatus()
        }
        
        document.getElementById('add-child-node').onclick = () => {
            if (!nodeTreeView) {
                alert('å…ˆã«NodeTreeViewã‚’ä½œæˆã—ã¦ãã ã•ã„')
                return
            }
            
            if (nodeTreeView.selectedNodes.size === 0) {
                alert('è¦ªãƒãƒ¼ãƒ‰ã‚’é¸æŠã—ã¦ãã ã•ã„')
                return
            }
            
            const parentId = Array.from(nodeTreeView.selectedNodes)[0]
            const nodeId = `child-${++nodeCounter}`
            
            nodeTreeView.addNode({
                id: nodeId,
                type: 'string.uppercase',
                name: `Child of ${parentId}`,
                position: { x: 150, y: 250 },
                parent: parentId
            })
            
            console.log(`âœ… å­ãƒãƒ¼ãƒ‰è¿½åŠ : ${nodeId} (è¦ª: ${parentId})`)
            updateStatus()
        }
        
        document.getElementById('remove-node').onclick = () => {
            if (!nodeTreeView) {
                alert('å…ˆã«NodeTreeViewã‚’ä½œæˆã—ã¦ãã ã•ã„')
                return
            }
            
            if (nodeTreeView.selectedNodes.size === 0) {
                alert('å‰Šé™¤ã™ã‚‹ãƒãƒ¼ãƒ‰ã‚’é¸æŠã—ã¦ãã ã•ã„')
                return
            }
            
            nodeTreeView.selectedNodes.forEach(nodeId => {
                nodeTreeView.removeNode(nodeId)
                console.log(`âœ… ãƒãƒ¼ãƒ‰å‰Šé™¤: ${nodeId}`)
            })
            
            updateStatus()
        }
        
        document.getElementById('update-node').onclick = () => {
            if (!nodeTreeView) {
                alert('å…ˆã«NodeTreeViewã‚’ä½œæˆã—ã¦ãã ã•ã„')
                return
            }
            
            if (nodeTreeView.selectedNodes.size === 0) {
                alert('æ›´æ–°ã™ã‚‹ãƒãƒ¼ãƒ‰ã‚’é¸æŠã—ã¦ãã ã•ã„')
                return
            }
            
            const nodeId = Array.from(nodeTreeView.selectedNodes)[0]
            nodeTreeView.updateNode(nodeId, {
                name: `Updated at ${new Date().toLocaleTimeString()}`,
                data: { updated: true, timestamp: Date.now() }
            })
            
            console.log(`âœ… ãƒãƒ¼ãƒ‰æ›´æ–°: ${nodeId}`)
            updateStatus()
        }
        
        // ==========================================
        // æ¥ç¶šã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
        // ==========================================
        
        document.getElementById('add-connection').onclick = () => {
            if (!nodeTreeView) {
                alert('å…ˆã«NodeTreeViewã‚’ä½œæˆã—ã¦ãã ã•ã„')
                return
            }
            
            const nodes = Array.from(nodeTreeView.nodes.keys())
            if (nodes.length < 2) {
                alert('æ¥ç¶šã™ã‚‹ã«ã¯2ã¤ä»¥ä¸Šã®ãƒãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™')
                return
            }
            
            const source = nodes[Math.floor(Math.random() * nodes.length)]
            let target = nodes[Math.floor(Math.random() * nodes.length)]
            while (target === source) {
                target = nodes[Math.floor(Math.random() * nodes.length)]
            }
            
            nodeTreeView.updateConnection(source, target, 'create')
            console.log(`âœ… æ¥ç¶šè¿½åŠ : ${source} â†’ ${target}`)
            updateStatus()
        }
        
        document.getElementById('remove-connection').onclick = () => {
            if (!nodeTreeView) {
                alert('å…ˆã«NodeTreeViewã‚’ä½œæˆã—ã¦ãã ã•ã„')
                return
            }
            
            // æ¥ç¶šã‚’æŒã¤ãƒãƒ¼ãƒ‰ã‚’æ¢ã™
            let connectionFound = false
            for (const [nodeId, node] of nodeTreeView.nodes) {
                if (node.connections.outputs.length > 0) {
                    const targetId = node.connections.outputs[0]
                    nodeTreeView.updateConnection(nodeId, targetId, 'delete')
                    console.log(`âœ… æ¥ç¶šå‰Šé™¤: ${nodeId} â†’ ${targetId}`)
                    connectionFound = true
                    break
                }
            }
            
            if (!connectionFound) {
                alert('å‰Šé™¤ã™ã‚‹æ¥ç¶šãŒã‚ã‚Šã¾ã›ã‚“')
            }
            
            updateStatus()
        }
        
        document.getElementById('simulate-complex').onclick = () => {
            if (!nodeTreeView) {
                alert('å…ˆã«NodeTreeViewã‚’ä½œæˆã—ã¦ãã ã•ã„')
                return
            }
            
            // è¤‡é›‘ãªæ§‹é€ ã‚’ç”Ÿæˆ
            const rootId = `complex-root-${++nodeCounter}`
            nodeTreeView.addNode({
                id: rootId,
                type: 'flow.start',
                name: 'Complex Flow Start',
                parent: null
            })
            
            // 3å±¤ã®éšå±¤æ§‹é€ ã‚’ä½œæˆ
            for (let i = 0; i < 3; i++) {
                const branchId = `branch-${nodeCounter}-${i}`
                nodeTreeView.addNode({
                    id: branchId,
                    type: 'logic.condition',
                    name: `Branch ${i + 1}`,
                    parent: rootId
                })
                
                // å„ãƒ–ãƒ©ãƒ³ãƒã«å­ãƒãƒ¼ãƒ‰è¿½åŠ 
                for (let j = 0; j < 2; j++) {
                    const leafId = `leaf-${nodeCounter}-${i}-${j}`
                    nodeTreeView.addNode({
                        id: leafId,
                        type: 'output.console',
                        name: `Output ${i + 1}-${j + 1}`,
                        parent: branchId
                    })
                }
                
                // æ¥ç¶šã‚‚è¿½åŠ 
                if (i > 0) {
                    nodeTreeView.updateConnection(`branch-${nodeCounter}-${i-1}`, branchId, 'create')
                }
            }
            
            console.log('âœ… è¤‡é›‘ãªæ§‹é€ ç”Ÿæˆå®Œäº†')
            updateStatus()
        }
        
        // ==========================================
        // ãƒ„ãƒªãƒ¼æ“ä½œ
        // ==========================================
        
        document.getElementById('expand-all').onclick = () => {
            if (!nodeTreeView) {
                alert('å…ˆã«NodeTreeViewã‚’ä½œæˆã—ã¦ãã ã•ã„')
                return
            }
            
            nodeTreeView.expandAll()
            console.log('âœ… å…¨ã¦å±•é–‹')
            updateStatus()
        }
        
        document.getElementById('collapse-all').onclick = () => {
            if (!nodeTreeView) {
                alert('å…ˆã«NodeTreeViewã‚’ä½œæˆã—ã¦ãã ã•ã„')
                return
            }
            
            nodeTreeView.collapseAll()
            console.log('âœ… å…¨ã¦æŠ˜ã‚ŠãŸãŸã¿')
            updateStatus()
        }
        
        document.getElementById('select-all').onclick = () => {
            if (!nodeTreeView) {
                alert('å…ˆã«NodeTreeViewã‚’ä½œæˆã—ã¦ãã ã•ã„')
                return
            }
            
            nodeTreeView.selectAll()
            console.log('âœ… å…¨é¸æŠ')
            updateStatus()
        }
        
        document.getElementById('clear-selection').onclick = () => {
            if (!nodeTreeView) {
                alert('å…ˆã«NodeTreeViewã‚’ä½œæˆã—ã¦ãã ã•ã„')
                return
            }
            
            nodeTreeView.clearSelection()
            console.log('âœ… é¸æŠè§£é™¤')
            updateStatus()
        }
        
        // ==========================================
        // ãƒ‡ãƒ¼ã‚¿ç®¡ç†
        // ==========================================
        
        document.getElementById('export-tree').onclick = () => {
            if (!nodeTreeView) {
                alert('å…ˆã«NodeTreeViewã‚’ä½œæˆã—ã¦ãã ã•ã„')
                return
            }
            
            nodeTreeView.exportTree()
            console.log('âœ… ãƒ„ãƒªãƒ¼ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ')
        }
        
        document.getElementById('import-tree').onclick = () => {
            if (!nodeTreeView) {
                alert('å…ˆã«NodeTreeViewã‚’ä½œæˆã—ã¦ãã ã•ã„')
                return
            }
            
            nodeTreeView.importTree()
            console.log('âœ… ãƒ„ãƒªãƒ¼ã‚¤ãƒ³ãƒãƒ¼ãƒˆå¾…æ©Ÿ')
        }
        
        document.getElementById('refresh-tree').onclick = () => {
            if (!nodeTreeView) {
                alert('å…ˆã«NodeTreeViewã‚’ä½œæˆã—ã¦ãã ã•ã„')
                return
            }
            
            nodeTreeView.refreshTree()
            console.log('âœ… ãƒ„ãƒªãƒ¼æ›´æ–°')
            updateStatus()
        }
        
        // ==========================================
        // åˆæœŸåŒ–
        // ==========================================
        
        console.log('ğŸš€ NodeTreeViewComponent ãƒ†ã‚¹ãƒˆç’°å¢ƒåˆæœŸåŒ–å®Œäº†')
        updateStatus()
        
        // ä½¿ã„æ–¹ãƒ’ãƒ³ãƒˆ
        console.log('%cğŸ’¡ ãƒ’ãƒ³ãƒˆ: ãƒãƒ¼ãƒ‰ã‚’ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã—ã¦éšå±¤ã‚’å¤‰æ›´ã§ãã¾ã™ï¼', 'color: #007acc; font-size: 14px;')
        
    </script>
</body>
</html>