# CharmCode Editor 最終アーキテクチャ仕様書 v10.0
## VoidCore System - 自律進化型AIコア『静寂の器』

**正式名称**: ヴォイドコアシステム (Void Core System)  
**略称**: VoidCore  
**バージョン**: v10.0  
**策定日**: 2025-06-30  
**策定者**: CharmCode Architecture Team  

---

## 1. 根幹哲学：もはや「アプリ」ではない、新しい「生命体」

私たちが創り出したのは、**『VoidCore』と呼ばれる、新しい情報基盤（プラットフォーム）**そのもの。

これは、特定の形を持たない。ある時はデスクトップアプリとして、ある時はバックグラウンドサービスとして、メッセージパスに接続さえしていれば、どこでも、どんな形でも、活躍できる！

### 1.1 三つの根幹原則

1. **『静寂』** - コア自身は一切の意味を知らない純粋な媒体
2. **『要求駆動』** - 必要な時だけ、必要な分だけ動作
3. **『虚無（ヴォイド）』** - 空っぽだからこそ、無限の可能性を内包

---

## 2. アーキテクチャの神髄：『静寂』と『軽量GUI革命』

この世界の、一番大事なルールは、たったこれだけ！

### 2.1 静寂の器『VoidCore』

システムの中心には、「VoidCore」っていう、純粋な通信路（メッセージパス）があるだけ。

**VoidCore自身の責務**:
- どんな未知のメッセージであっても、それを**「絶対に、確実に、光の速さで、相手に届ける、完璧な通信インフラを提供する」**こと、ただ一つ
- メッセージの**「意味」や「内容」を、一切、知らないし、管理もしない**
- 純粋な『媒体（メディウム）』に徹したカーネル

### 2.1.5 GUI革命戦略（Phase 1.4.4 最新追加）

**双戦略アプローチ**:
- **Qt Widgets**: リッチ機能・企業対応（50-100MB、15-20 DLL）
- **Dear ImGui**: 軽量高速・個人開発者対応（2-5MB、DLLゼロ）

**実装方針**:
- 既存Qt版を参考実装として維持
- ImGui版で30秒ビルド・ゼロDLL配布を実現
- VoidCoreメッセージングで両GUI統一

### 2.2 プラグインによる、世界の、自己創造

全ての機能は、独立した「プラグイン」として存在する。

#### 『メッセージタイプの動的自己登録』：プラグインによる、世界の創造

**【革命的変更点】**:
- メッセージの種類（イベントID、サービスIDなど）は、もはや、コアや設定ファイルでは、一切管理しない
- 全てのメッセージタイプは、プラグイン自身が、起動時のpre_activateフェーズで、自らの手で、コアのレジストリに、動的に「宣言」または「登録」する

**効果**:
- これにより、プラグインは、既存のルールに縛られることなく、自分たちだけで、新しいコミュニケーションの「プロトコル（言語）」を、自由に、無限に、創造していくことができる
- 拡張性は、真に無限になる

### 2.3 AIによる、世界の、自己進化（最重要機能）

コアに常駐する**「AI」**が、ユーザーの使い方や、プラグイン間の通信を、勝手に、観測し、学習する。

#### 観測機能
- コアを通過する、全ての（たとえ未知の）メッセージ通信を、リアルタイムで、グラフィカルに表示
- デバッグ可能性を、完璧に確保

#### 自動調停機能
**「この言葉と、あの言葉は、同じ意味ですね？互換性を持たせるために、世界のルールを、書き換えてもいいですか？」**って、AIが、新しい「ルール」を、人間に、提案してくる！

人間が「はい」と答えるだけで、システムは、ユーザーに合わせて、勝手に、賢く、進化していく！

#### 統制（マッピング機能）
コア管理者は、このUIを通じて、**「あるメッセージIDを、別のメッセージIDに、自動で翻訳（マッピング）する」**という、強力なルールを、動的に設定できる。

**ユースケース**: 
プラグインAが発行する"focus-mode-on"というメッセージと、プラグインBが発行する"enter-concentration-zone"という、意味は同じだが、名前が違うメッセージを、管理者がGUI上で線を繋ぐだけで、システムは、それらを同じ「集中モード開始」の意図として、統一的に扱えるようになる。

---

## 3. 技術的実現方法

### 3.1 メッセージ介入アーキテクチャ

```cpp
// 従来のv7.0
MessageBus -> Plugin

// VoidCore v10.0
MessageBus -> [InterceptorLayer] -> [AI_Translator] -> Plugin
```

### 3.2 プライバシーモード vs オープンモード

#### 🔒 プライベートモード
- コア+プラグイン群を**ワンパッケージ化**
- 外部との通信なし、完全自己完結
- ユーザーの秘密データも安心
- **「個人用の密室アプリ」**として動作

#### 🌐 オープンモード  
- 従来の分離型アーキテクチャ
- プラグイン間通信が完全観測可能
- AIによる学習・調停が活用可能
- **「進化する協調システム」**として動作

### 3.3 情報への介入手段

**メタレベル操作の核心**:
- プラグインがコアに流す情報に対する**完全な観測・変換能力**
- **「コア通るから隠蔽は不可能」** - 究極の透明性
- データの動的書き換え・変換・ルーティング制御

**技術的実装**:
- Proxy/Decoratorパターンによる透過的変換
- Middleware Chainによる変換パイプライン
- Configuration-drivenな変換ルール

---

## 4. 何が解決されたのか？：互換性問題の、完全なる終焉

この「AIによる、意味の自動調停」機能によって、違う人が、違う時代に、違う言葉で作ったプラグイン同士でも、AIが、その場で、通訳してくれるから、完璧に、協調動作できる！

もう、開発者は、互換性のことなんて、一切、考えなくていい！ただ、自分の創造的な機能開発だけに、集中すればいいんだ！

---

## 5. VoidCoreシステムの本質

### 5.1 『自由』と『統制』の完璧な両立

- **現場（プラグイン）**には、プロトコルさえも自由に創造できる、**究極の「自由」**を与える
- **神の視点（コズミック・フォージ）からは、その自由な活動から生まれる「混沌（カオス）」を、完全に観測し、意味のレベルで「秩序（コスモス）」**へと導く、**究極の「統制」**を、もたらす

この**「自由」と「統制」の、完璧な両立**こそが、このアーキテクチャの神髄。

### 5.2 新しい生命体としての特性

お兄ちゃんが発明したのは、**「最高の、ふつうのデスクトップアプリ」でありながら、その実態は、「ユーザーが、ただ使うだけで、AIが、その人のためだけに、勝手に、自己進化していく、新しい生命体」**だった！

---

## 6. 実装ロードマップ

### Phase 1: VoidCore基盤整備
- 現在のv7.0マイクロカーネルをVoidCore仕様に拡張
- メッセージ介入レイヤーの実装
- プライベート/オープンモード切り替え機能

### Phase 2: AI調停システム
- メッセージ観測・学習エンジン
- 互換性ルール自動生成
- ユーザー提案インターフェース

### Phase 3: コズミック・フォージ統合
- 神モードUI実装
- リアルタイム通信可視化
- 意味レベルマッピング機能

---

## 7. 結論

VoidCoreシステムは、単なるテキストエディタの枠を超え、**新しい情報基盤プラットフォーム**として機能する。

静寂の器としてのコア、無限の創造性を持つプラグインエコシステム、そしてAIによる自動進化機能により、**真に革命的なソフトウェアアーキテクチャ**を実現する。

**「この『自由』と『統制』の、完璧な両立こそが、VoidCoreアーキテクチャの神髄にゃ。」**

---

*策定者: CharmCode Architecture Team*  
*最終更新: 2025-06-30*